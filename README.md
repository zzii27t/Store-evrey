<div align="center">

# ๐ค ุจูุช ุชูููุฌุฑุงู ูุจูุน ุงูููุชุฌุงุช ุงูุฑูููุฉ

### ๐ ุจูุน ุงูููุชุฌุงุช ุงูุฑูููุฉ ุจุณูููุฉ ูุฃูุงู ุนุจุฑ Telegram Stars

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![Telegraf](https://img.shields.io/badge/Telegraf-4.16+-blue.svg)](https://telegraf.js.org/)
[![Supabase](https://img.shields.io/badge/Supabase-2.39+-purple.svg)](https://supabase.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**ูุธุงู ูุชูุงูู ูุจูุน ุงูุงุดุชุฑุงูุงุช ูุงูููุชุฌุงุช ุงูุฑูููุฉ ุจุฃุณุนุงุฑ ุชูุงูุณูุฉ**

[ุงููููุฒุงุช](#-ุงููููุฒุงุช) โข [ุงูุชุซุจูุช](#-ุงูุชุซุจูุช) โข [ุงูุงุณุชุฎุฏุงู](#-ุงูุงุณุชุฎุฏุงู) โข [ุงูุจููุฉ](#-ุงูุจููุฉ)

---

</div>

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุจูุช ุชูููุฌุฑุงู ุงุญุชุฑุงูู ูุจูุน ุงูููุชุฌุงุช ุงูุฑูููุฉ (ูุซู ุงุดุชุฑุงูุงุช ChatGPT ูุบูุฑูุง) ุนุจุฑ ูุธุงู ุฏูุน ุขูู ุจุงุณุชุฎุฏุงู **Telegram Stars**. ูููุฑ ุชุฌุฑุจุฉ ุณูุณุฉ ูููุณุชุฎุฏููู ูุฅุฏุงุฑุฉ ุณููุฉ ูููุณุคูููู.

### โจ ููุงุฐุง ูุฐุง ุงูุจูุชุ

- ๐ฐ **ุฃุณุนุงุฑ ุชูุงูุณูุฉ** - ุจูุน ุงูููุชุฌุงุช ุจุฃุณุนุงุฑ ุฃูู ูู ุงูุฃุณูุงู ุงูุชูููุฏูุฉ
- ๐ **ุฏูุน ุขูู** - ุงุณุชุฎุฏุงู Telegram Stars ุงููุฏูุฌ ูู ุชูููุฌุฑุงู
- โก **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** - ูุงุฌูุฉ ุจุณูุทุฉ ูุณุฑูุนุฉ
- ๐ **ุฅุฏุงุฑุฉ ูุชูุงููุฉ** - ูุธุงู ููุงููุฉ/ุฑูุถ ููุทูุจุงุช
- ๐ **ุฌุงูุฒ ูููุดุฑ** - ูุนูู ุนูู Render ูุบูุฑู ูู ุงูููุตุงุช

---

## ๐ ุงููููุฒุงุช

### ูููุณุชุฎุฏููู ๐ฅ
- โ ูุงุฌูุฉ ุณููุฉ ููุจุงุดุฑุฉ
- โ ุฏูุน ุขูู ุนุจุฑ Telegram Stars
- โ ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนู ุญุงูุฉ ุงูุทูุจ
- โ ูุง ุญุงุฌุฉ ูุญุณุงุจุงุช ุฎุงุฑุฌูุฉ

### ูููุณุคูููู ๐จโ๐ผ
- โ ููุญุฉ ุชุญูู ุจุณูุทุฉ ุนุจุฑ ุชูููุฌุฑุงู
- โ ุฅุดุนุงุฑุงุช ููุฑูุฉ ููู ุทูุจ ุฌุฏูุฏ
- โ ูุธุงู ููุงููุฉ/ุฑูุถ ุณุฑูุน
- โ ุชุฎุฒูู ุขูู ููุจูุงูุงุช ูู Supabase
- โ ุณุฌู ูุงูู ููุทูุจุงุช ูุงููุฏููุนุงุช

### ุชูููุฉ ๐ง
- โ ุฏุนู Webhook ู Polling
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
- โ ุณุฌูุงุช ุชูุตูููุฉ
- โ ุฌุงูุฒ ููุฅูุชุงุฌ

---

## ๐ ุงูุชุซุจูุช

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

- [Node.js](https://nodejs.org/) 16 ุฃู ุฃุญุฏุซ
- ุญุณุงุจ [Telegram Bot](https://t.me/BotFather)
- ุญุณุงุจ [Supabase](https://supabase.com)
- ุญุณุงุจ [Render](https://render.com) (ูููุดุฑ)

---

### ุฎุทูุฉ 1๏ธโฃ: ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone <repository-url>
cd telegram-subscription-bot
npm install
```

---

### ุฎุทูุฉ 2๏ธโฃ: ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุงูุณุฎ ููู `.env.example` ุฅูู `.env`:

```bash
cp env.example .env
```

ุนุฏูู ููู `.env` ูุฃุถู ุงูููู ุงูุชุงููุฉ:

```env
# Telegram Bot Configuration
BOT_TOKEN=your_bot_token_here
FOUNDER_ID=your_telegram_user_id_here

# Supabase Configuration
SUPABASE_URL=your_supabase_project_url
SUPABASE_KEY=your_supabase_anon_key

# Server Configuration
PORT=3000
WEBHOOK_URL=https://your-app-name.onrender.com

# Payment Configuration
PAYMENT_AMOUNT=1
PAYMENT_CURRENCY=XTR
```

---

### ุฎุทูุฉ 3๏ธโฃ: ุงูุญุตูู ุนูู Bot Token

1. ุงุฐูุจ ุฅูู [@BotFather](https://t.me/BotFather) ุนูู ุชูููุฌุฑุงู
2. ุฃุฑุณู `/newbot` ูุงุชุจุน ุงูุชุนูููุงุช
3. ุงุญูุธ ุงูู **Token** ุงูุฐู ูุนุทูู ุฅูุงู
4. ุถุนู ูู `BOT_TOKEN` ูู ููู `.env`

---

### ุฎุทูุฉ 4๏ธโฃ: ูุนุฑูุฉ Founder ID

1. ุงุฐูุจ ุฅูู [@userinfobot](https://t.me/userinfobot) ุนูู ุชูููุฌุฑุงู
2. ุฃุฑุณู `/start`
3. ุงุญูุธ ุงูู **ID** ุงูุฐู ูุนุทูู ุฅูุงู
4. ุถุนู ูู `FOUNDER_ID` ูู ููู `.env`

---

### ุฎุทูุฉ 5๏ธโฃ: ุฅุนุฏุงุฏ Supabase

#### 5.1 ุฅูุดุงุก ุงููุดุฑูุน
1. ุฃูุดุฆ ุญุณุงุจ ุนูู [Supabase](https://supabase.com)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุงูุชุธุฑ ุญุชู ููุชูู ุงูุฅุนุฏุงุฏ

#### 5.2 ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุงุฐูุจ ุฅูู **SQL Editor** ูู Supabase
2. ุงูุชุญ ููู `database.sql` ูู ุงููุดุฑูุน
3. ุงูุณุฎ ุงููุญุชูู ูุงููุงู
4. ุงูุตูู ูู SQL Editor
5. ุงุถุบุท **Run** ูุชูููุฐ ุงูููุฏ

#### 5.3 ุงูุญุตูู ุนูู API Keys
1. ุงุฐูุจ ุฅูู **Settings** > **API**
2. ุงูุณุฎ **Project URL** ูุถุนูุง ูู `SUPABASE_URL`
3. ุงูุณุฎ **anon/public key** ูุถุนูุง ูู `SUPABASE_KEY`

---

### ุฎุทูุฉ 6๏ธโฃ: ุงูุชุดุบูู ุงููุญูู

```bash
# ููุชุดุบูู ุงูุนุงุฏู
npm start

# ููุชุทููุฑ ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
npm run dev
```

---

## ๐ฆ ุงููุดุฑ ุนูู Render

### 1. ุฅูุดุงุก ุญุณุงุจ Render
- ุงุฐูุจ ุฅูู [Render](https://render.com)
- ุณุฌูู ุญุณุงุจ ุฌุฏูุฏ (ูููู ุงุณุชุฎุฏุงู GitHub)

### 2. ุฅูุดุงุก Web Service
1. ุงุถุบุท **New** > **Web Service**
2. ูุตูู GitHub repository
3. ุงููุฃ ุงูุฅุนุฏุงุฏุงุช:
   - **Name**: ุงุฎุชุฑ ุงุณูุงู ูููุดุฑูุน
   - **Environment**: `Node`
   - **Build Command**: `npm install`
   - **Start Command**: `node index.js`
   - **Plan**: ุงุฎุชุฑ ุงูุฎุทุฉ ุงูููุงุณุจุฉ

### 3. ุฅุถุงูุฉ Environment Variables
ูู ูุณู **Environment Variables**ุ ุฃุถู ุฌููุน ุงููุชุบูุฑุงุช ูู ููู `.env`:
- `BOT_TOKEN`
- `FOUNDER_ID`
- `SUPABASE_URL`
- `SUPABASE_KEY`
- `PORT` (ุงุฎุชูุงุฑูุ ุงูุชุฑุงุถู: 3000)
- `WEBHOOK_URL` (ุณูุชู ููุคู ุจุนุฏ ุงููุดุฑ)
- `PAYMENT_AMOUNT`
- `PAYMENT_CURRENCY`

### 4. ุงูุญุตูู ุนูู Webhook URL
1. ุจุนุฏ ุงููุดุฑุ Render ุณูุนุทูู URL ูุซู: `https://your-app.onrender.com`
2. ุงูุณุฎ ูุฐุง ุงูู URL
3. ุฃุถูู ูู Environment Variables ูู `WEBHOOK_URL`
4. ุฃุนุฏ ูุดุฑ ุงููุดุฑูุน

---

## ๐ป ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู

1. **ุงุจุฏุฃ ุงูุจูุช**
   ```
   /start
   ```

2. **ุงุถุบุท ุนูู ุฒุฑ "๐ ุงูุญุตูู ุนูู ุงูุจุงูุงุช"**

3. **ุงุฏูุน ุนุจุฑ Telegram Stars**
   - ุณูุธูุฑ ูู ูุงุชูุฑุฉ ุงูุฏูุน
   - ุงุถุบุท **Pay** ูุงุฏูุน ุจุงุณุชุฎุฏุงู Stars

4. **ุฃุฏุฎู ุงูุฅูููู**
   - ุจุนุฏ ุงูุฏูุน ุงููุงุฌุญุ ุณูุทูุจ ุงูุจูุช ุงูุฅูููู
   - ุฃุฏุฎู ุงูุฅูููู ุงููุทููุจ

5. **ุงูุชุธุฑ ุงูููุงููุฉ**
   - ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุคูู
   - ุจุนุฏ ุงูููุงููุฉุ ุณุชุตูู ุฑุณุงูุฉ ุงูุชูุนูู

### ูููุณุคูููู

ุนูุฏ ูุตูู ุทูุจ ุฌุฏูุฏุ ุณุชุตูู ุฑุณุงูุฉ ุชุญุชูู ุนูู:
- ูุนูููุงุช ุงููุณุชุฎุฏู
- ุงูุฅูููู ุงููุฏุฎู
- ูุจูุบ ุงูุฏูุน
- ุฑูู ุงูุทูุจ

**ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ:**
- โ **ุชู ุฅููุงุก ุงูุนูููุฉ** - ููููุงููุฉ ุนูู ุงูุทูุจ
- โ **ูุฑููุถ** - ูุฑูุถ ุงูุทูุจ

---

## ๐ ุงูุจููุฉ

```
telegram-subscription-bot/
โโโ ๐ index.js              # Express server ู webhook handler
โโโ ๐ค bot.js                # ููุทู ุงูุจูุช ุงูุฑุฆูุณู
โโโ ๐๏ธ  supabase.js           # ุงูุงุชุตุงู ุจู Supabase
โโโ ๐ database.sql           # ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ ๐ฆ package.json           # ุงูุชุจุนูุงุช ูุงูุฅุนุฏุงุฏุงุช
โโโ ๐ env.example            # ูุซุงู ููุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ ๐ README.md             # ูุฐุง ุงูููู
```

---

## ๐ ุณูุฑ ุงูุนูู

```mermaid
graph LR
    A[ุงููุณุชุฎุฏู ูุจุฏุฃ ุงูุจูุช] --> B[ูุถุบุท ุนูู ุฒุฑ ุงูุดุฑุงุก]
    B --> C[ูุฏูุน ุนุจุฑ Telegram Stars]
    C --> D[ูุฏุฎู ุงูุฅูููู]
    D --> E[ุฅุดุนุงุฑ ูููุณุคูู]
    E --> F{ูุฑุงุฑ ุงููุณุคูู}
    F -->|ููุงููุฉ| G[ุฑุณุงูุฉ ูุฌุงุญ ูููุณุชุฎุฏู]
    F -->|ุฑูุถ| H[ุฑุณุงูุฉ ุฑูุถ ูููุณุชุฎุฏู]
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `subscriptions`

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | BIGSERIAL | ุงููุนุฑู ุงููุฑูุฏ (Primary Key) |
| `user_id` | BIGINT | ูุนุฑู ุงููุณุชุฎุฏู ูู ุชูููุฌุฑุงู |
| `username` | VARCHAR(255) | ุงุณู ุงููุณุชุฎุฏู |
| `email` | VARCHAR(255) | ุงูุฅูููู (ูููู ุฃู ูููู NULL) |
| `status` | VARCHAR(50) | ุงูุญุงูุฉ: pending, approved, rejected |
| `payment_amount` | INTEGER | ูุจูุบ ุงูุฏูุน |
| `payment_currency` | VARCHAR(10) | ุนููุฉ ุงูุฏูุน (XTR) |
| `created_at` | TIMESTAMP | ุชุงุฑูุฎ ุงูุฅูุดุงุก |
| `updated_at` | TIMESTAMP | ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ |

---

## ๐ ุงูุฃูุงู

- โ๏ธ **ูุง ุชุดุงุฑู ููู `.env`** ุฃู ุชุฑูุนู ุฅูู Git
- โ๏ธ **ุงุญูู API keys** ุงูุฎุงุตุฉ ุจู
- โ๏ธ **ุงุณุชุฎุฏู HTTPS ููุท** ูู ุงูุฅูุชุงุฌ
- โ๏ธ **ุฑุงุฌุน ุงูุทูุจุงุช** ูุจู ุงูููุงููุฉ ุนูููุง

---

## ๐๏ธ ุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุชุฌุงุช ุฌุฏูุฏุฉ

ูุชุนุฏูู ุงูููุชุฌุงุช ุงููุนุฑูุถุฉุ ุนุฏูู ูู `bot.js`:

```javascript
const invoice = {
  title: 'ุงุณู ุงูููุชุฌ',
  description: 'ูุตู ุงูููุชุฌ',
  // ...
};
```

### ุชุนุฏูู ูุจูุบ ุงูุฏูุน

ุนุฏูู ูู ููู `.env`:
```env
PAYMENT_AMOUNT=1
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุจูุช ูุง ูุนูู
- โ ุชุฃูุฏ ูู ุตุญุฉ `BOT_TOKEN`
- โ ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- โ ุชุฃูุฏ ูู ุชูุนูู ุงูุจูุช ูู @BotFather

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู
- โ ุชุฃูุฏ ูู ุตุญุฉ `SUPABASE_URL` ู `SUPABASE_KEY`
- โ ุชุฃูุฏ ูู ุชูููุฐ `database.sql` ูู Supabase
- โ ุชุญูู ูู ุตูุงุญูุงุช API Key

### Webhook ูุง ูุนูู
- โ ุชุฃูุฏ ูู ุตุญุฉ `WEBHOOK_URL`
- โ ุชุฃูุฏ ูู ุฃู ุงูุณูุฑูุฑ ูุนูู ุนูู Render
- โ ุชุญูู ูู ุงูุณุฌูุงุช ูู Render Dashboard

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE).

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชูู! ูุฑุฌู:
1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู Branch (`git push origin feature/AmazingFeature`)
5. ูุชุญ Pull Request

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุงูุชุญ [Issue](https://github.com/your-repo/issues) ูู ุงููุณุชูุฏุน
- ุฃู ุฑุงุณููุง ุนูู ุชูููุฌุฑุงู

---

## โญ ุดูุฑ ุฎุงุต

ุดูุฑุงู ูุงุณุชุฎุฏุงูู ูุฐุง ุงูุจูุช! ุฅุฐุง ุฃุนุฌุจู ุงููุดุฑูุนุ ูุง ุชูุณู โญ Star!

---

<div align="center">

**ุตููุน ุจู โค๏ธ ูููุฌุชูุน ุงูุนุฑุจู**

[โฌ ุงูุนูุฏุฉ ููุฃุนูู](#-ุจูุช-ุชูููุฌุฑุงู-ูุจูุน-ุงูููุชุฌุงุช-ุงูุฑูููุฉ)

</div>

